spring.application.name=campuseats
spring.data.mongodb.database=CampusEats
# Use placeholders for MongoDB connection string - ensure these vars exist in .env
spring.data.mongodb.uri=mongodb+srv://${env.MONGO_USER}:${env.MONGO_PASSWORD}@${env.MONGO_CLUSTER}/CampusEats?retryWrites=true&w=majority&appName=CampusEats
azure.blob-storage.connection-string=${env.AZURE_CONNECTION_STRING}
spring.cloud.azure.storage.blob.container-name=campuseats
#Email Config
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${env.EMAIL_ID}
spring.mail.password=${env.EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

spring.servlet.multipart.enabled = true
spring.servlet.multipart.max-file-size = 200MB
spring.servlet.multipart.max-request-size = 200MB

PAYMONGO_SECRET=${env.PAYMONGO_SECRET_KEY}

# CORS Allowed Origins (Add mobile development origin)
cors.allowed.origins=http://localhost:3000,https://citu-campuseats.vercel.app,http://localhost:8080,http://192.168.1.10

# Server Port (Keep existing or default)
server.port=8080

# Logging (Keep existing or default)
logging.level.org.springframework=INFO
# Enable TRACE logging for maximum detail from Spring Security & OAuth2
logging.level.org.springframework.security=TRACE
logging.level.org.springframework.security.oauth2=TRACE
# Optional: DEBUG logging for Azure components if needed later
# logging.level.com.azure.spring=DEBUG

# --- Azure AD / OAuth 2.0 Resource Server Configuration ---
# Use v1.0 settings to match the actual token being issued
spring.cloud.azure.active-directory.enabled=true
spring.cloud.azure.active-directory.profile.tenant-id=823cde44-4433-456d-b801-bdf0ab3d41fc
spring.cloud.azure.active-directory.credential.client-id=6533df52-b33b-4953-be58-6ae5caa69797

# Rely on spring-cloud-azure-starter-active-directory for auto-configuration
# The starter should detect v1.0 based on issuer or other properties if needed.
# It will expect the audience to be the client ID by default, or app ID URI if configured.

# Removed extra properties like require-ssl=false and debug=true for now

# --- Azure AD